<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For My Special Someone</title>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
<style>
* { margin:0; padding:0; box-sizing:border-box; }
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    min-height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    background: linear-gradient(135deg, #ffb347, #ffcc33);
    overflow:hidden;
    position:relative;
    color:#333;
    transition: background 5s ease;
}
.container {
    background: rgba(255,255,255,0.9);
    border-radius:20px;
    padding:30px;
    max-width:800px;
    width:90%;
    text-align:center;
    box-shadow: 0 15px 50px rgba(0,0,0,0.3);
    position:relative;
    overflow:hidden;
}
h1 {
    font-size:32px;
    color:#6a0dad;
    margin-bottom:15px;
    text-shadow:1px 1px 4px rgba(0,0,0,0.2);
}
button {
    background:#6a0dad; color:white; border:none; padding:14px 28px; border-radius:50px; font-size:18px;
    cursor:pointer; margin:10px; transition: all 0.3s; box-shadow:0 5px 15px rgba(106,13,173,0.4);
}
button:hover { transform:translateY(-3px); box-shadow:0 8px 20px rgba(106,13,173,0.6); }
button:active { transform:translateY(0); }
.message { opacity:0; transform:translateY(20px); transition: all 1s; text-align:left; padding:15px; border-radius:10px; background:rgba(106,13,173,0.05); color:#4b0082; margin-bottom:20px; }
.memory-container { display:none; text-align:left; padding:20px; margin:15px 0; background:rgba(255,255,255,0.95); border-radius:15px; border-left:4px solid #6a0dad; box-shadow:0 5px 15px rgba(0,0,0,0.1); }
.final-container { display:flex; gap:30px; justify-content:center; align-items:flex-start; display:none; }
.final-text-container { flex:1; text-align:left; font-family:'Playfair Display', serif; color:#4b0082; font-size:18px; }
.final-text-container p { margin-bottom:15px; opacity:0; transform:translateY(10px); transition: all 0.6s ease; }
.highlight-love { font-family:'Pacifico', cursive; color:gold; font-size:28px; text-shadow:0 0 10px gold; animation: pulse 1.5s infinite alternate; }
@keyframes pulse { 0% { transform: scale(1); text-shadow:0 0 5px gold; } 100% { transform: scale(1.1); text-shadow:0 0 20px gold; } }
.photo-container { width:280px; height:280px; border-radius:50%; overflow:hidden; display:none; border:5px solid #6a0dad; transition: transform 1.5s; box-shadow:0 10px 30px rgba(0,0,0,0.2); }
.photo { width:100%; height:100%; object-fit:cover; transition:transform 2s ease-in-out; }
.hearts-container, .sparkles-container { position:absolute; width:100%; height:100%; top:0; left:0; pointer-events:none; }
.heart-shape, .sparkle { position:absolute; font-size:20px; opacity:0; }
@keyframes float { 0%{transform:translateY(0) rotate(0deg);opacity:0.8;} 100%{transform:translateY(-100vh) rotate(360deg);opacity:0;} }
@keyframes sparkleAnim { 0%{transform:translateY(0) scale(1);opacity:0.8;} 50%{transform:translateY(-50px) scale(1.2);opacity:0.4;} 100%{transform:translateY(-100px) scale(0.8);opacity:0;} }
.music-control { position:fixed; bottom:20px; right:20px; background:#6a0dad; width:50px;height:50px;border-radius:50%;display:flex;justify-content:center;align-items:center;color:white;cursor:pointer; box-shadow:0 4px 10px rgba(0,0,0,0.2); z-index:100; display:none;}
.progress-container { height:8px; width:100%; background:#f1f1f1; border-radius:10px; margin:20px 0; overflow:hidden; display:none;}
.progress-bar { height:100%; width:0%; background:linear-gradient(to right,#6a0dad,#4b0082); transition:width 0.5s;}
</style>
</head>
<body>

<div class="hearts-container" id="heartsContainer"></div>
<div class="sparkles-container" id="sparklesContainer"></div>

<div class="container">
    <h1>For Someone <span class="heart">Special</span></h1>
    <p>This is for you, Smriti</p>

    <div id="introMessage" class="message">
        <p>I created this little interactive page just for you...</p>
        <p>There's something I've been wanting to say for a while now.</p>
    </div>

    <div id="progressContainer" class="progress-container"><div id="progressBar" class="progress-bar"></div></div>
    <button id="startBtn">Click to Begin This Journey</button>

    <div id="interactiveSection" class="hidden">
        <p>Before I tell you what's in my heart, let's take a quick journey...</p>
        <button id="memoryBtn"><i class="fas fa-heart"></i> Remember our first meeting?</button>
        <button id="laughBtn"><i class="fas fa-laugh"></i> Your laughter is my favorite sound</button>
        <button id="continueBtn" class="hidden">Continue to My Heart</button>

        <div id="memoryMessage" class="memory-container">
            <h3>Our First Meeting</h3>
            <p>I'll never forget the first time we met. Your smile lit up the room...</p>
        </div>
        <div id="laughMessage" class="memory-container">
            <h3>Your Beautiful Laugh</h3>
            <p>Your laughter is like music to my ears. I love hearing it...</p>
        </div>
    </div>

    <div id="finalContainer" class="final-container">
        <div class="photo-container" id="finalPhotoContainer">
            <img src="https://i.ibb.co/v4Sp8918/s1.jpg" class="photo" id="finalPhoto">
        </div>
        <div id="finalTextContainer" class="final-text-container"></div>
    </div>

    <div class="music-control" id="musicControl"><i class="fas fa-pause"></i></div>
    <audio id="bgMusic" loop>
        <source src="1.mp3" type="audio/mpeg">
    </audio>
</div>

<script>
document.addEventListener('DOMContentLoaded',()=>{
    const startBtn=document.getElementById('startBtn');
    const memoryBtn=document.getElementById('memoryBtn');
    const laughBtn=document.getElementById('laughBtn');
    const continueBtn=document.getElementById('continueBtn');
    const introMessage=document.getElementById('introMessage');
    const progressContainer=document.getElementById('progressContainer');
    const progressBar=document.getElementById('progressBar');
    const interactiveSection=document.getElementById('interactiveSection');
    const finalContainer=document.getElementById('finalContainer');
    const finalPhotoContainer=document.getElementById('finalPhotoContainer');
    const finalPhoto=document.getElementById('finalPhoto');
    const finalTextContainer=document.getElementById('finalTextContainer');
    const memoryMessage=document.getElementById('memoryMessage');
    const laughMessage=document.getElementById('laughMessage');
    const heartsContainer=document.getElementById('heartsContainer');
    const sparklesContainer=document.getElementById('sparklesContainer');
    const musicControl=document.getElementById('musicControl');
    const bgMusic=document.getElementById('bgMusic');
    const body=document.body;

    function typeWriter(text,element,speed=50,callback){
        let i=0;element.innerHTML='';
        function type(){ if(i<text.length){ element.innerHTML+=text.charAt(i); i++; setTimeout(type,speed); } else if(callback) callback(); }
        type();
    }

    function typeWriterHTMLSafe(htmlText,element,speed=50,callback){
        let temp=document.createElement('div'); temp.innerHTML=htmlText;
        function typeNode(node,parent,done){
            if(node.nodeType===Node.TEXT_NODE){ let i=0; function typeChar(){ if(i<node.textContent.length){ parent.append(node.textContent.charAt(i)); i++; setTimeout(typeChar,speed);} else done(); } typeChar();}
            else if(node.nodeType===Node.ELEMENT_NODE){ const el=document.createElement(node.tagName); for(let attr of node.attributes) el.setAttribute(attr.name,attr.value); parent.appendChild(el); let children=Array.from(node.childNodes); function typeChildren(index){ if(index<children.length) typeNode(children[index],el,()=>typeChildren(index+1)); else done();} typeChildren(0);}
        }
        let nodes=Array.from(temp.childNodes); function typeAll(index){ if(index<nodes.length) typeNode(nodes[index],element,()=>typeAll(index+1)); else if(callback) callback();} typeAll(0);
    }

    function playMusic(){ bgMusic.volume=0; bgMusic.play().catch(()=>{}); let vol=0; const fade=setInterval(()=>{ if(vol<0.7){vol+=0.01; bgMusic.volume=vol;}else clearInterval(fade); },50); musicControl.style.display='flex'; }

    function createHearts(){ setInterval(()=>{ const h=document.createElement('div'); h.classList.add('heart-shape'); h.innerHTML='❤'; h.style.left=Math.random()*100+'%'; h.style.animation='float '+(Math.random()*4+3)+'s linear forwards'; heartsContainer.appendChild(h); setTimeout(()=>h.remove(),6000);},300);}
    function createSparkles(){ setInterval(()=>{ const s=document.createElement('div'); s.classList.add('sparkle'); s.innerHTML='✦'; s.style.left=Math.random()*100+'%'; s.style.animation='sparkleAnim 4s linear forwards'; sparklesContainer.appendChild(s); setTimeout(()=>s.remove(),4000);},200);}

    startBtn.addEventListener('click',()=>{
        introMessage.style.opacity=1; introMessage.style.transform='translateY(0)';
        startBtn.style.display='none'; progressContainer.style.display='block';
        let width=0; const interval=setInterval(()=>{ if(width>=100){ clearInterval(interval); interactiveSection.style.display='block'; progressContainer.style.display='none'; createHearts(); } else{ width++; progressBar.style.width=width+'%'; } },30);
    });

    memoryBtn.addEventListener('click',()=>{ memoryMessage.style.display='block'; memoryBtn.style.opacity='0.7'; checkButtons(); });
    laughBtn.addEventListener('click',()=>{ laughMessage.style.display='block'; laughBtn.style.opacity='0.7'; checkButtons(); });
    function checkButtons(){ if(memoryBtn.style.opacity=='0.7' && laughBtn.style.opacity=='0.7') continueBtn.style.display='inline-block'; }

    continueBtn.addEventListener('click',()=>{
        interactiveSection.style.display='none'; finalContainer.style.display='flex'; finalPhotoContainer.style.display='block';
        finalPhoto.style.transform='scale(1.05) rotate(2deg)'; playMusic(); createHearts(); createSparkles();

        // Animate background transition
        let gradientSteps = [
            "linear-gradient(135deg, #ffb347, #ffcc33)",
            "linear-gradient(135deg, #ff9a9e, #fad0c4)",
            "linear-gradient(135deg, #6a11cb, #2575fc)",
            "linear-gradient(135deg, #0f2027, #203a43, #2c5364)"
        ];
        let step=0;
        let bgInterval=setInterval(()=>{
            if(step<gradientSteps.length){ body.style.background=gradientSteps[step]; step++; } else clearInterval(bgInterval);
        },3000);

        const finalParagraphs=[
            "Heyy...this is Adarsh orr your Gadha and whatsoever....",
            "I know this is kinda out of the blue...but I think it's now or never....",
            "I think this is the time....",
            "<span class='highlight-love'>I love you Smriti....</span>",
            "I can't hold it anymore and also I don't wanna keep any regrets...",
            "Let me know your response on whatsapp"
        ];
        let idx=0;
        function typeNext(){ if(idx<finalParagraphs.length){ const p=document.createElement('p'); finalTextContainer.appendChild(p);
            if(finalParagraphs[idx].includes('<span')) typeWriterHTMLSafe(finalParagraphs[idx],p,80,()=>{idx++;typeNext();});
            else typeWriter(finalParagraphs[idx],p,80,()=>{idx++;typeNext();});}}
        typeNext();
    });

    let musicPlaying=true;
    musicControl.addEventListener('click',()=>{ if(musicPlaying){ bgMusic.pause(); musicControl.innerHTML='<i class="fas fa-play"></i>'; } else { bgMusic.play(); musicControl.innerHTML='<i class="fas fa-pause"></i>'; } musicPlaying=!musicPlaying; });

});
</script>
</body>
</html>
